# Gemini CLI OpenAI Worker - Environment Configuration
# Copy this file to .env and fill in your values

# ==========================================
# REQUIRED: OAuth2 Credentials
# ==========================================
# Get these from: npm install -g @google/gemini-cli && gemini
# Copy from: ~/.gemini/oauth_creds.json
GCP_SERVICE_ACCOUNT={"access_token":"ya29.YOUR_ACCESS_TOKEN","refresh_token":"1//YOUR_REFRESH_TOKEN","scope":"https://www.googleapis.com/auth/cloud-platform","token_type":"Bearer","id_token":"eyJ...YOUR_ID_TOKEN","expiry_date":1750927763467}

# ==========================================
# OPTIONAL: Authentication
# ==========================================
# API key for authentication (leave empty for public access)
# Generate a secure key: openssl rand -hex 32
OPENAI_API_KEY=sk-your-secure-api-key-here

# ==========================================
# OPTIONAL: Google Cloud Project
# ==========================================
# Auto-discovered if not set
# GEMINI_PROJECT_ID=your-gcp-project-id

# ==========================================
# SERVER CONFIGURATION
# ==========================================
PORT=8787
NODE_ENV=production

# ==========================================
# THINKING & REASONING FEATURES
# ==========================================
# Enable real Gemini thinking capabilities
ENABLE_REAL_THINKING=true

# Enable fake thinking for testing (overrides real thinking)
# ENABLE_FAKE_THINKING=false

# Stream thinking as content with <thinking> tags (DeepSeek R1 style)
STREAM_THINKING_AS_CONTENT=true

# ==========================================
# MODEL & FEATURE FLAGS
# ==========================================
# Auto fallback from pro to flash models on rate limits
ENABLE_AUTO_MODEL_SWITCHING=true

# Enable native Gemini tools (search, URL context)
ENABLE_GEMINI_NATIVE_TOOLS=true

# Individual tool controls
ENABLE_GOOGLE_SEARCH=true
ENABLE_URL_CONTEXT=true

# Tool priority: "native_first" or "custom_first"
GEMINI_TOOLS_PRIORITY=native_first

# Allow request-level tool control overrides
ALLOW_REQUEST_TOOL_CONTROL=false

# Citation and grounding features
ENABLE_INLINE_CITATIONS=true
INCLUDE_GROUNDING_METADATA=false

# ==========================================
# CONTENT SAFETY SETTINGS
# ==========================================
# Options: BLOCK_NONE, BLOCK_FEW, BLOCK_SOME, BLOCK_ONLY_HIGH, HARM_BLOCK_THRESHOLD_UNSPECIFIED
GEMINI_MODERATION_HARASSMENT_THRESHOLD=BLOCK_ONLY_HIGH
GEMINI_MODERATION_HATE_SPEECH_THRESHOLD=BLOCK_ONLY_HIGH
GEMINI_MODERATION_SEXUALLY_EXPLICIT_THRESHOLD=BLOCK_ONLY_HIGH
GEMINI_MODERATION_DANGEROUS_CONTENT_THRESHOLD=BLOCK_ONLY_HIGH